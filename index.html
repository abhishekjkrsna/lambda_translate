<!doctype html>
<html lang="en">

<head>
    <title>Translation Demo</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
</head>

<body>
    <header>
        <!-- place navbar here -->
        <nav class="navbar navbar-expand-sm navbar-light bg-secondary">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Translation Service Demo</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarID"
                    aria-controls="navbarID" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarID">
                    <!-- <div class="navbar-nav">
                        <a class="nav-link active" aria-current="page" href="#translate-section">Translate</a>
                        <a class="nav-link active" aria-current="page" href="#about-section">About</a>
                    </div>
                </div> -->
                </div>
        </nav>
    </header>
    <main>
        <div class="container-fluid mt-3">
            <div id="translate-section" class="shadow shadow-sm p-lg-3">
                <p class="h1">Language Translation Demo</p>
                <form id="translate" class="">
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label for="" class="form-label">Enter Text Here</label>
                                <textarea class="form-control overflow-scroll" name="text" id="text" rows="5"
                                    placeholder="Text to translate" required></textarea>
                            </div>
                        </div>
                        <div class="col-lg-6 mb-3">
                            <label for="source">Source Language</label>
                            <select class="form-select" id="source" name="source_lang" required>
                                <option value="auto" selected hidden disabled>Select Language</option>
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="gr">German</option>
                                <option value="hi">Hindi</option>
                                <option value="ja">Japanese</option>
                            </select>
                        </div>
                        <div class="col-lg-6 mb-3">
                            <label for="source">Target Language</label>
                            <select class="form-select" id="source" name="target_lang" required>
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="gr">German</option>
                                <option value="hi">Hindi</option>
                                <option value="ja">Japanese</option>
                            </select>
                        </div>
                        <div class="col-12 mb-3">
                            <input type="submit" value="Submit">
                        </div>
                    </div>
                </form>
                <div class="mt-3">
                    <p class="h2">Translated Text</p>
                    <div class="mb-3">
                        <textarea class="form-control overflow-scroll" name="" id="translation" rows="5"></textarea>
                    </div>
                </div>
            </div>
            <div id="about-section" class="p-lg-3 mt-2">
                <p class="h1">About</p>
                <p>
                    This is a simple language translation demo using Amazon Translate, AWS Lambda and API Gateway. The
                    form above takes
                    text input and translates it to the target language selected. The translation is done using the
                    Amazon Translate service. The source code for this demo can be found on GitHub.
                </p>
            </div>
        </div>
    </main>
    <footer>
        <!-- place footer here -->
        <div class="container">
            <footer class="py-3 my-4">
                <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                    <li class="nav-item"><a href="#translate-section" class="nav-link px-2 text-muted">Translate</a>
                    </li>
                </ul>
                <p class="text-center text-muted">&copy; Abhishek Jhingran</p>
            </footer>
        </div>
    </footer>
    <script>
        const form = document.getElementById('translate');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(form);

            const response = await fetch('your_api_url', {
                method: 'POST',
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(Object.fromEntries(formData))
            });

            const data = await response.json();

            document.getElementById('translation').value = data.message;
        });
    </script>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>

</html>